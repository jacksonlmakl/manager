#!/bin/bash

# Get the public IP address of the current host
PUBLIC_IP=$(curl -s ifconfig.me)

# Extract the first ports from the mappings in the docker-compose.yaml file
PORTS=$(grep -oP '^\s+- "\K(?!50|15|23)\d+(?=:\d+")' docker-compose.yml)

# Print the URLs in the required format
for PORT in $PORTS; do
    echo "http://$PUBLIC_IP:$PORT"
done

